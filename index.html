<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Japnam HUB‚ù§Ô∏è</title>

  <style>
    :root{
      --pink:#ff3b7a;
      --pink2:#ff77a5;
      --bg1:#fff0f6;
      --bg2:#ffe7ee;
      --card:#ffffffcc;
      --text:#1f1f24;
      --shadow: 0 20px 60px rgba(0,0,0,.14);
      --radius: 22px;
      --pad: 18px;
    }

    *{ box-sizing: border-box; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      min-height: 100vh;
      display:grid;
      place-items:center;
      background:
        radial-gradient(1200px 600px at 20% 20%, rgba(255,59,122,.20), transparent 55%),
        radial-gradient(900px 500px at 85% 25%, rgba(255,0,128,.16), transparent 55%),
        radial-gradient(900px 600px at 45% 85%, rgba(255,59,122,.12), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* Background floating flowers (behind card) */
    .bg-float{
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: -3;
      opacity: .9;
    }
    .bg-float .float{
      position:absolute;
      bottom: -60px;
      filter: drop-shadow(0 12px 14px rgba(0,0,0,.08));
      animation: riseBg linear infinite;
      will-change: transform, opacity;
    }
    @keyframes riseBg{
      0%   { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
      10%  { opacity: .7; }
      100% { transform: translateY(-120vh) translateX(40px) rotate(16deg); opacity: 0; }
    }

    
    #fw{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 999;
      opacity: 0;
      transition: opacity .25s ease;
    }
    #fw.on{ opacity: 1; }


    .blob{
      position:fixed;
      width: 420px;
      height: 420px;
      border-radius: 999px;
      filter: blur(40px);
      opacity:.35;
      z-index:-2;
      animation: blobFloat 12s ease-in-out infinite;
    }
    .blob.a{ left:-120px; top:-120px; background: rgba(255,59,122,.55); }
    .blob.b{ right:-160px; top:40px; background: rgba(255,180,210,.75); animation-delay: -4s; }
    .blob.c{ left:20%; bottom:-220px; background: rgba(255,0,128,.35); animation-delay: -7s; }

    @keyframes blobFloat{
      0%,100%{ transform: translate(0,0) scale(1); }
      50%{ transform: translate(40px, 25px) scale(1.06); }
    }

    .card{
      width: min(760px, calc(100% - 24px));
      background: var(--card);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.65);
      animation: cardIn .7s cubic-bezier(.2,.9,.2,1) both;
    }

    @keyframes cardIn{
      from{ transform: translateY(12px) scale(.985); opacity:0; }
      to{ transform: translateY(0) scale(1); opacity:1; }
    }

    .shine{
      position:absolute;
      inset:-120px;
      background:
        radial-gradient(circle at 30% 25%, rgba(255,255,255,.65), transparent 40%),
        radial-gradient(circle at 80% 20%, rgba(255,255,255,.4), transparent 45%);
      transform: rotate(12deg);
      opacity:.55;
      pointer-events:none;
    }

    h1{
      margin: 0 0 10px;
      font-size: clamp(28px, 5vw, 46px);
      letter-spacing: -.02em;
      line-height: 1.05;
      text-shadow: 0 1px 0 rgba(255,255,255,.5);
    }

    .hint{
      display:inline-flex;
      align-items:center;
      gap:10px;
      background: rgba(255,59,122,.10);
      border: 1px solid rgba(255,59,122,.18);
      padding: 10px 12px;
      border-radius: 999px;
      font-weight: 600;
      width: fit-content;
    }

    .stage{
      margin-top: 18px;
      height: 340px;
      border-radius: 18px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,240,246,.85));
      border: 1px solid rgba(255,59,122,.20);
      position: relative;
      padding: var(--pad);
      overflow:hidden;
    }

    .stage::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(circle at 15% 20%, rgba(255,59,122,.12), transparent 38%),
        radial-gradient(circle at 80% 30%, rgba(255,0,128,.10), transparent 40%),
        radial-gradient(circle at 45% 90%, rgba(255,59,122,.10), transparent 40%);
      pointer-events:none;
      opacity:.9;
    }

    .btn{
      border:0;
      border-radius: 14px;
      padding: 14px 18px;
      font-weight: 800;
      font-size: 18px;
      cursor:pointer;
      user-select:none;
      touch-action:none;
      position:absolute;
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
      z-index: 5;
    }
    .btn:active{ transform: scale(.98); }

    #yes{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:#fff;
      left: 18px;
      bottom: 18px;
      box-shadow: 0 12px 26px rgba(255,59,122,.28);
    }
    #yes:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 34px rgba(255,59,122,.32);
      filter: brightness(1.02);
    }

    #no{
      background: rgba(255,255,255,.9);
      color:#2b2b33;
      right: 18px;
      bottom: 18px;
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 10px 20px rgba(0,0,0,.10);
    }
    #no:hover{ transform: translateY(-2px); }

    .small{
      font-size: 13px;
      opacity: .7;
      margin-top: 10px;
    }

    
    .float-hearts{
      position: absolute;
      inset: 0;
      pointer-events:none;
      overflow:hidden;
      z-index: 0;
    }
    .h{
      position:absolute;
      bottom: -40px;
      font-size: 18px;
      opacity: .8;
      animation: rise linear infinite;
      filter: drop-shadow(0 10px 10px rgba(0,0,0,.08));
    }
    @keyframes rise{
      from{ transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
      10%{ opacity: .85; }
      to{ transform: translateY(-420px) translateX(30px) rotate(14deg); opacity: 0; }
    }

    
    .burst{
      position:absolute;
      left:0; top:0;
      pointer-events:none;
      z-index: 7;
    }
    .piece{
      position:absolute;
      font-size: 18px;
      transform: translate(-50%, -50%);
      animation: fly 900ms ease-out forwards;
    }
    @keyframes fly{
      0%{ opacity: 1; transform: translate(-50%,-50%) scale(1); }
      100%{ opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) rotate(var(--rot)) scale(.9); }
    }


    .modal{
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      z-index: 1000;
    }
    .modal.on{ display: grid; }

    .modal-backdrop{
      position:absolute;
      inset:0;
      background: rgba(10,10,14,.45);
      backdrop-filter: blur(8px);
    }

    .modal-card{
      position: relative;
      width: min(760px, calc(100% - 24px));
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(255,255,255,.65);
      border-radius: 22px;
      box-shadow: 0 26px 80px rgba(0,0,0,.22);
      padding: 22px 22px 18px;
      transform: translateY(10px) scale(.98);
      opacity: 0;
      animation: modalIn .45s cubic-bezier(.2,.9,.2,1) forwards;
      max-height: min(84vh, 820px);
      overflow: auto;
    }
    @keyframes modalIn{
      to{ transform: translateY(0) scale(1); opacity: 1; }
    }

    .modal-close{
      position:absolute;
      top: 12px;
      right: 12px;
      border: 0;
      width: 38px;
      height: 38px;
      border-radius: 12px;
      cursor: pointer;
      background: rgba(0,0,0,.06);
      font-size: 18px;
      font-weight: 900;
    }
    .modal-close:hover{ background: rgba(0,0,0,.10); }

    .modal-title{
      margin: 0 0 10px;
      font-size: clamp(20px, 3.5vw, 28px);
      font-weight: 900;
      letter-spacing: -.01em;
    }

    .modal-text{
      margin: 0;
      line-height: 1.55;
      font-size: 16px;
      opacity: .92;
      white-space: pre-wrap;
    }

    .popup-pic{
      width: min(420px, 100%);
      border-radius: 16px;
      margin-top: 14px;
      display:block;
      box-shadow: 0 14px 34px rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.65);
    }

    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; }
      #fw{ display:none; }
    }
  </style>
</head>

<body>
  <canvas id="fw"></canvas>
  <div class="bg-float" id="bgFloat" aria-hidden="true"></div>

  <div class="blob a"></div>
  <div class="blob b"></div>
  <div class="blob c"></div>

  <div class="card">
    <div class="shine"></div>

    <h1>Prabhdeeep üíï ‚Äî Will you be my Valentine? üíò</h1>
    <div class="hint">‚ö†Ô∏è (ü§ì)</div>

    <div class="stage" id="stage" aria-label="Valentine question area">
      <div class="float-hearts" id="floatHearts"></div>

      <button class="btn" id="yes">Yes ‚ù§Ô∏è</button>
      <button class="btn" id="no">No üôÉ</button>
    </div>

    <div class="small">UR ALLL MINE üòà</div>
  </div>

  <!-- POPUP MODAL -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-backdrop" id="modalBackdrop"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Valentine message">
      <button class="modal-close" id="modalClose" aria-label="Close">‚úï</button>
      <h2 class="modal-title">üíò For you, Heer meri</h2>
      <p class="modal-text" id="modalText"></p>
      <img class="popup-pic" src="us.jpg" alt="Us ‚ù§Ô∏è" />
    </div>
  </div>

  <script>
    const stage = document.getElementById('stage');
    const noBtn  = document.getElementById('no');
    const yesBtn = document.getElementById('yes');

    const floatHearts = document.getElementById('floatHearts');
    const bgFloat = document.getElementById('bgFloat');

    const modal = document.getElementById("modal");
    const modalText = document.getElementById("modalText");
    const modalClose = document.getElementById("modalClose");
    const modalBackdrop = document.getElementById("modalBackdrop");

    
    const LOVE_MESSAGE = `Happy Valentine‚Äôs Day bilo üíò
  Each day my love grows, bilo üíò Love that I get to be here with you 
  with you beside me Jatt bas marda tera ta sohniye you mean the world to me üòç

You genuinely make my days better in the smallest ways üòè like even if my day is heavy
teri awaaz  tera text and suddenly it feels lighter Tu hassdi aa te lagda sab kuch theek ho gaya

When you‚Äôre happy my mood automatically gets fixed. When you‚Äôre close to me, life just feels right
Tere curly baal uff ü´† and those dimples when you smile It‚Äôs my favourite sight 
Honestly tu ehni sohni aa ke jatt da dil khush kar dendi 
teri photo vekh ke vi mera din ban janda üòàüíóüôàüçí
And look at us we have already made so many memories together 
the laughs the little inside jokes the random moments that became my favourites
the times we were just sitting doing nothing but it still felt perfect because it was with you
I don‚Äôt even need big plan tere naal ordinary vi special lagda

That‚Äôs why I want this website to be our timescape 
a place where our valentine moments our pictures our memories stay forever. 
And I swear this is just the beginning so many more memories to come, more dates, more adventures, more us more moments where I look at you and think yea this is my sardarni

You make me feel like the real king üëë 
like I am winning at life just because I have you. Everything is better with you
Rabb ne mainu tu bakhshi aa  God blessed me with you for real

I love you, bilo. Always. üíû`;


    const clamp = (n, a, b) => Math.max(a, Math.min(n, b));
    const rand = (a,b) => a + Math.random()*(b-a);

    function setNoPosition(x, y) {
      const pad = 12;
      const s = stage.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const maxX = s.width  - b.width  - pad;
      const maxY = s.height - b.height - pad;

      noBtn.style.left = clamp(x, pad, maxX) + "px";
      noBtn.style.top  = clamp(y, pad, maxY) + "px";
      noBtn.style.right = "auto";
      noBtn.style.bottom = "auto";
    }

    function randomNoPosition(avoidX, avoidY) {
      const pad = 12;
      const s = stage.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const maxX = s.width  - b.width  - pad;
      const maxY = s.height - b.height - pad;

      for (let i = 0; i < 14; i++) {
        const x = pad + Math.random() * Math.max(1, maxX - pad);
        const y = pad + Math.random() * Math.max(1, maxY - pad);
        const dx = x - avoidX, dy = y - avoidY;
        if ((dx*dx + dy*dy) > 150*150) return {x, y};
      }
      return { x: pad + Math.random() * Math.max(1, maxX - pad),
               y: pad + Math.random() * Math.max(1, maxY - pad) };
    }

    function moveNoAway(clientX, clientY) {
      const s = stage.getBoundingClientRect();
      const px = clientX - s.left;
      const py = clientY - s.top;

      const pos = randomNoPosition(px, py);
      noBtn.animate(
        [{ transform: "translateY(0)" }, { transform: "translateY(-2px)" }, { transform: "translateY(0)" }],
        { duration: 220, easing: "ease-out" }
      );
      setNoPosition(pos.x, pos.y);
    }

    
    const heartGlyphs = ["üíó","üíò","üíñ","üíû","üíï","üíì","üíù"];
    function spawnStageHeart(){
      const h = document.createElement("div");
      h.className = "h";
      h.textContent = heartGlyphs[Math.floor(Math.random()*heartGlyphs.length)];
      h.style.left = Math.random() * 100 + "%";
      h.style.fontSize = (14 + Math.random()*18) + "px";
      h.style.animationDuration = (6 + Math.random()*6) + "s";
      h.style.opacity = (0.35 + Math.random()*0.55).toFixed(2);
      floatHearts.appendChild(h);
      setTimeout(() => h.remove(), 13000);
    }
    for(let i=0;i<10;i++) setTimeout(spawnStageHeart, i*450);
    setInterval(spawnStageHeart, 650);

    // --- floating flowers in the page background
    const flowerGlyphs = ["üå∏","üå∑","üåπ","üå∫","üíê","üåº"];
    function spawnBgFlower(){
      const el = document.createElement("div");
      el.className = "float";
      el.textContent = flowerGlyphs[Math.floor(Math.random()*flowerGlyphs.length)];
      el.style.left = rand(0, 100) + "%";
      el.style.fontSize = rand(14, 34) + "px";
      el.style.opacity = rand(0.25, 0.8).toFixed(2);
      el.style.animationDuration = rand(8, 16) + "s";
      bgFloat.appendChild(el);
      setTimeout(() => el.remove(), 18000);
    }
    for(let i=0;i<18;i++) setTimeout(spawnBgFlower, i*300);
    setInterval(spawnBgFlower, 520);

    // no button run-away behavior
    stage.addEventListener("mousemove", (e) => {
      const b = noBtn.getBoundingClientRect();
      const distX = Math.max(b.left - e.clientX, 0, e.clientX - b.right);
      const distY = Math.max(b.top  - e.clientY, 0, e.clientY - b.bottom);
      const dist = Math.hypot(distX, distY);
      if (dist < 90) moveNoAway(e.clientX, e.clientY);
    });

    noBtn.addEventListener("pointerdown", (e) => {
      e.preventDefault();
      moveNoAway(e.clientX, e.clientY);
    });

    // --- confetti burst in the stage
    function burstAt(el){
      const r = el.getBoundingClientRect();
      const s = stage.getBoundingClientRect();
      const x = (r.left + r.width/2) - s.left;
      const y = (r.top  + r.height/2) - s.top;

      const wrap = document.createElement("div");
      wrap.className = "burst";
      stage.appendChild(wrap);

      const pieces = 26;
      for(let i=0;i<pieces;i++){
        const p = document.createElement("div");
        p.className = "piece";
        p.textContent = heartGlyphs[Math.floor(Math.random()*heartGlyphs.length)];

        const ang = Math.random() * Math.PI * 2;
        const mag = 60 + Math.random() * 150;
        const dx = Math.cos(ang) * mag;
        const dy = Math.sin(ang) * mag - 40;

        p.style.left = x + "px";
        p.style.top  = y + "px";
        p.style.setProperty("--dx", dx.toFixed(0) + "px");
        p.style.setProperty("--dy", dy.toFixed(0) + "px");
        p.style.setProperty("--rot", ((Math.random()*120)-60).toFixed(0) + "deg");
        p.style.fontSize = (14 + Math.random()*18) + "px";
        wrap.appendChild(p);
      }
      setTimeout(() => wrap.remove(), 1000);
    }

   
    const fw = document.getElementById("fw");
    const ctx = fw.getContext("2d");

    function resizeFw(){
      fw.width = Math.floor(window.innerWidth * devicePixelRatio);
      fw.height = Math.floor(window.innerHeight * devicePixelRatio);
      fw.style.width = window.innerWidth + "px";
      fw.style.height = window.innerHeight + "px";
      ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
    }
    window.addEventListener("resize", resizeFw);
    resizeFw();

    let fireworksRunning = false;
    let stopAt = 0;
    const rockets = [];
    const sparks = [];

    function pastelColor(){
      const hues = [330, 350, 10, 25, 290, 210, 170];
      const h = hues[Math.floor(Math.random()*hues.length)];
      const s = rand(70, 95);
      const l = rand(55, 70);
      return `hsl(${h} ${s}% ${l}%)`;
    }

    function launchRocket(){
      const x = rand(40, window.innerWidth - 40);
      const y = window.innerHeight + 10;
      rockets.push({
        x, y,
        vx: rand(-0.8, 0.8),
        vy: rand(-10.5, -13.5),
        life: 0,
        target: rand(window.innerHeight * 0.18, window.innerHeight * 0.45),
        color: pastelColor()
      });
    }

    function explode(x,y,color){
      const count = Math.floor(rand(40, 70));
      for(let i=0;i<count;i++){
        const ang = Math.random() * Math.PI * 2;
        const spd = rand(2.2, 6.2);
        sparks.push({
          x, y,
          vx: Math.cos(ang) * spd,
          vy: Math.sin(ang) * spd,
          g: 0.08,
          drag: 0.985,
          alpha: 1,
          decay: rand(0.010, 0.020),
          r: rand(1.2, 2.6),
          color
        });
      }
    }

    function tickFireworks(){
      if(!fireworksRunning) return;

      ctx.fillStyle = "rgba(0,0,0,0.18)";
      ctx.fillRect(0,0,window.innerWidth, window.innerHeight);

      if (performance.now() < stopAt && Math.random() < 0.22) launchRocket();

      for(let i=rockets.length-1;i>=0;i--){
        const r = rockets[i];
        r.life += 1;
        r.x += r.vx;
        r.y += r.vy;
        r.vy += 0.12;

        ctx.beginPath();
        ctx.fillStyle = r.color;
        ctx.arc(r.x, r.y, 2.2, 0, Math.PI*2);
        ctx.fill();

        if (r.y <= r.target || r.life > 70){
          explode(r.x, r.y, r.color);
          rockets.splice(i,1);
        }
      }

      for(let i=sparks.length-1;i>=0;i--){
        const p = sparks[i];
        p.vx *= p.drag;
        p.vy *= p.drag;
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.alpha -= p.decay;

        ctx.globalAlpha = Math.max(0, p.alpha);
        ctx.beginPath();
        ctx.fillStyle = p.color;
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();

        if(p.alpha <= 0) sparks.splice(i,1);
      }
      ctx.globalAlpha = 1;

      if(performance.now() > stopAt && rockets.length === 0 && sparks.length === 0){
        fireworksRunning = false;
        fw.classList.remove("on");
        ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
        return;
      }

      requestAnimationFrame(tickFireworks);
    }

    function startFireworks(ms=3000){
      stopAt = performance.now() + ms;
      fw.classList.add("on");
      fireworksRunning = true;
      for(let i=0;i<4;i++) setTimeout(launchRocket, i*140);
      requestAnimationFrame(tickFireworks);
    }

  
    function openModal(){
      modalText.textContent = LOVE_MESSAGE;
      modal.classList.add("on");
      modal.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeModal(){
      modal.classList.remove("on");
      modal.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }

    modalClose.addEventListener("click", closeModal);
    modalBackdrop.addEventListener("click", closeModal);
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("on")) closeModal();
    });

    let yesLocked = false;
    yesBtn.addEventListener("click", () => {
      if (yesLocked) return;
      yesLocked = true;

      burstAt(yesBtn);

      
      noBtn.disabled = true;
      noBtn.style.opacity = 0.55;
      noBtn.style.cursor = "not-allowed";

      
      const FIREWORK_MS = 3000;
      startFireworks(FIREWORK_MS);

      
      setTimeout(() => {
        openModal();
      }, FIREWORK_MS + 200);
    });

  
    window.addEventListener("load", () => {
      setNoPosition(stage.clientWidth - 130, stage.clientHeight - 78);
    });

    window.addEventListener("resize", () => {
      const b = noBtn.getBoundingClientRect();
      const s = stage.getBoundingClientRect();
      setNoPosition(b.left - s.left, b.top - s.top);
    });
  </script>
</body>
</html>
